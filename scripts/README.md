# ุณูุฑุจุชุงุช ูุธุงู ูุฑุงูุจุฉ ุงููุฎุทุท - ุฏููู ุงูุงุณุชุฎุฏุงู ุงูุณุฑูุน

## ุงูุฃูุงูุฑ ุงูุณุฑูุนุฉ โก

```bash
# 1. ุชูููุฏ ุงููุฎุทุท ุงููุชููุน ูู ุงูููุฏ
./scripts/run-commands.sh gen:expected

# 2. ูุญุต ุงููุทุงุจูุฉ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
./scripts/run-commands.sh check:schema

# 3. ูุญุต CI ุดุงูู (ููุงุณุชุฎุฏุงู ูู GitHub Actions)
./scripts/run-commands.sh schema:ci

# 4. ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ
./scripts/run-commands.sh backup:full

# 5. ุฅุนุฏุงุฏ ูุธุงู ุงูุชุฏููู
./scripts/run-commands.sh setup:audit
```

## ุงููููุงุช ูุงููุธุงุฆู ๐

### `generate-expected-schema.ts`
**ูุงุฐุง ููุนู**: ููุฑุฃ ููู `shared/schema.ts` ูููุชุฌ ูุฎุทุท JSON ูุชููุน

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุฅุถุงูุฉ ุฌุฏุงูู ุฌุฏูุฏุฉ ููููุฏ
- ูุจู ููุงุฑูุฉ ุงููุฎุทุทุงุช
- ูุฌุฒุก ูู ุณูุฑ ุงูุนูู CI/CD

**ุงูุฅุฎุฑุงุฌ**: `expected_schema.json` (~112KB)

```bash
# ุชุดุบูู ูุจุงุดุฑ
npx tsx scripts/generate-expected-schema.ts

# ุฃู ุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุณุฑูุน
./scripts/run-commands.sh gen:expected
```

### `compare-expected-vs-db.ts`
**ูุงุฐุง ููุนู**: ููุงุฑู ุงููุฎุทุท ุงููุชููุน ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุนููุฉ

**ูุชู ุชุณุชุฎุฏูู**:
- ููุชุญูู ูู ุงูุชุทุงุจู ุจูู ุงูููุฏ ููุงุนุฏุฉ ุงูุจูุงูุงุช
- ูุจู ุงูุฅุตุฏุงุฑุงุช ุงูุฌุฏูุฏุฉ
- ุนูุฏ ุงูุดู ูู ูุฌูุฏ ุงูุญุฑุงู

**ุงูุฅุฎุฑุงุฌ**: `schema_comparison_report.json` (~175KB)

```bash
# ุชุดุบูู ูุจุงุดุฑ  
npx tsx scripts/compare-expected-vs-db.ts

# ุฃู ุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุณุฑูุน
./scripts/run-commands.sh check:schema
```

### `backup-database.ts`
**ูุงุฐุง ููุนู**: ููุดุฆ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุดุงููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ูุชู ุชุณุชุฎุฏูู**:
- ูุจู ุฅุฌุฑุงุก ุชุนุฏููุงุช ูุจูุฑุฉ
- ูุจู ุชุดุบูู Migration
- ูููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุฏูุฑูุฉ

```bash
# ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ
npx tsx scripts/backup-database.ts

# ุฃู ุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุณุฑูุน  
./scripts/run-commands.sh backup:full
```

### `setup-ddl-audit.ts`
**ูุงุฐุง ููุนู**: ูุนุฏ ูุธุงู ุชุฏููู ูุฑุตุฏ ุชุบููุฑุงุช ุงููุฎุทุท

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุฅุนุฏุงุฏ ุงููุธุงู ูุฃูู ูุฑุฉ
- ูุชูุนูู ุงููุฑุงูุจุฉ ุงูุชููุงุฆูุฉ ููุชุบููุฑุงุช
- ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ ููุฃูุงู

```bash
# ุฅุนุฏุงุฏ ุงูุชุฏููู
npx tsx scripts/setup-ddl-audit.ts

# ุฃู ุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุณุฑูุน
./scripts/run-commands.sh setup:audit
```

### `run-commands.sh`
**ูุงุฐุง ููุนู**: ูุงุฌูุฉ ููุญุฏุฉ ูุฌููุน ุงูุฃูุงูุฑ ูุน ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

**ููุงุฐุง ูุณุชุฎุฏูู**:
- ุณูููุฉ ุงูุงุณุชุฎุฏุงู
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ููุญุฏุฉ  
- ุฃุฐููุงุช ุตุญูุญุฉ ุชููุงุฆูุงู

## ูุฑุงุกุฉ ุงูุชูุงุฑูุฑ ๐

### ูุชุงุฆุฌ ุงูููุงุฑูุฉ ุงูุฌูุฏุฉ โ
```
๐ ุฌุฏุงูู ูุชุทุงุจูุฉ: 37
โ ุฌุฏุงูู ููููุฏุฉ: 0  
โ ุฌุฏุงูู ุฅุถุงููุฉ: 0
๐ ุงูุญุงูุฉ: โ ูุทุงุจู ุชูุงูุงู
```

### ูุชุงุฆุฌ ุชุดูุฑ ูุงูุญุฑุงู โ๏ธ
```
๐ ุฌุฏุงูู ูุชุทุงุจูุฉ: 35
โ ุฌุฏุงูู ููููุฏุฉ: 2
โ ุฌุฏุงูู ุฅุถุงููุฉ: 1  
๐ ุงูุญุงูุฉ: โ๏ธ ุงูุญุฑุงู ููุชุดู
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ๐ง

### ุฎุทุฃ ูู ุงูุงุชุตุงู
```bash
โ ุฎุทุฃ: Error connecting to database
```
**ุงูุญู**: ุชุญูู ูู ูุชุบูุฑ `DATABASE_URL`

### ุฎุทุฃ ูู ุงูุฃุฐููุงุช
```bash  
โ ุฎุทุฃ: permission denied
```
**ุงูุญู**: ุชุฃูุฏ ูู ุตูุงุญูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ููู ุบูุฑ ููุฌูุฏ
```bash
โ ุฎุทุฃ: ENOENT: no such file
```
**ุงูุญู**: ุชุดุบูู `gen:expected` ุฃููุงู

## ูุชุทูุจุงุช ุงูุจูุฆุฉ ๐

```bash
# ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ
DATABASE_URL=postgresql://user:pass@host:port/db

# ุงูุงุนุชูุงุฏูุงุช ุงููุทููุจุฉ
npm install @neondatabase/serverless ws typescript
```

## ุณูุฑ ุงูุนูู ุงูููุชุฑุญ ๐

### ููุชุทููุฑ ุงููููู:
1. `gen:expected` - ุชูููุฏ ุงููุฎุทุท ุงููุชููุน
2. `check:schema` - ูุญุต ุงููุทุงุจูุฉ
3. ุฅุตูุงุญ ุฃู ุงูุญุฑุงูุงุช ููุชุดูุฉ
4. ุฅุนุงุฏุฉ ุงููุญุต ููุชุฃูุฏ

### ูุจู ุงูุฅุตุฏุงุฑ:
1. `backup:full` - ูุณุฎุฉ ุงุญุชูุงุทูุฉ  
2. `schema:ci` - ูุญุต ุดุงูู
3. ูุฑุงุฌุนุฉ ุงูุชูุฑูุฑ ุงูุชูุตููู
4. ูุนุงูุฌุฉ ุฃู ูุดุงูู

### ุฅุนุฏุงุฏ ุฃููู:
1. `setup:audit` - ุชูุนูู ุงูุชุฏููู
2. `gen:expected` - ุงููุฎุทุท ุงูุฃุณุงุณู
3. `check:schema` - ุฎุท ุงูุฃุณุงุณ
4. ุฏูุฌ ูุน CI/CD

## ูุตุงุฆุญ ูุงูุฉ ๐ก

- **ุชุดุบูู ุฏูุฑู**: ูุญุต ูููู ุฃู ุฃุณุจูุนู
- **ูุจู Migration**: ูุณุฎ ุงุญุชูุงุทูุฉ ุฏุงุฆูุงู
- **ูุฑุงุฌุนุฉ ุงูุชูุงุฑูุฑ**: ุชุญููู ุงูุชูุงุตูู ูููุณ ููุท ุงููุชูุฌุฉ
- **ุงูุจูุฆุงุช ุงููุชุนุฏุฏุฉ**: ูุญุต ุฌููุน ุงูุจูุฆุงุช (dev/staging/prod)

---
*ููุญุตูู ุนูู ุงูุชูุซูู ุงูุดุงููุ ุฑุงุฌุน: `docs/SCHEMA_MONITORING_SYSTEM.md`*